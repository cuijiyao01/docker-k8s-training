# Trainer Guide 

## Overview 

#### Course Prep steps
These are the logical steps for a trainer to prep for a course (details below):
- Create a Gardener trial cluster for your training 
- Download your trainer .kube/config from Gardener that lets you control the cluster
- On your VM, run the script to generate the kube configs for the participants
- Copy the generated configs to the config share of this course 
- Print the access IDs sheet to be handed out to the participants (with their config IDs)

All artifacts / scripts / info needed as trainer is in this admin folder.
You can use the participant VM also for all work as a trainer.

#### Sending out prep mail to participants




## Course preparation

### Create a Gardener Trial Cluster for the training

For each training we are using a separate **trial cluster** that you get from [Gardener](https://github.wdf.sap.corp/pages/kubernetes/gardener/). 

TODO: description HOWTO


### Download your trainer .kube/config 

In Gardener
- Login to gardener (with SSO)
- Choose your cluster
- in `kube cluster access` pane, click on on Kubeconfig and copy the yaml 

On your VM / machine
- Create a directory `.kube` under HOME (e.g. /home/vagrant on VM) and cd into it
- Create new file `config` and paste the yaml
- run `kubectl get nodes` - this command must complete by giving you a short list of nodes in the cluster


### Generate the kube configs for the participants

Download or clone this repo into the VM / your machine.

In the directory `admin/kubecfggen` run the script `kubecfggen.sh`. Give it the number of participants/namespaces it should create (e.g. `kubecfggen.sh 10` creates 10 different namespaces for 10 participants).
- This will generate a yaml to create all namespaces etc in the cluster and already execute / apply it. The cluster will then already be set up for the participants.
- Generates the kubeconfig files for the participants 

### Copy the configs to the share

`kubecfggen` will generate a directory with a unique name (ID) that contains all the kube configs for the participants. 

Copy the whole directory to this location: 
```
\\dwdf212\bst_ecf\X_Public\CloudCurriculum\K8S\k8s-for-developers\kube-configs
```

Note: You need write access for this share which you get by being on the DL `k8s for developers trainers`.

### Print the participant config codes sheet

Print the file that was generated by the `kubecfggen` run that contains the config code for each participant. Cut the page at the lines so that you can hand out each code to one participant. 


## Sending the preparation mail to participants

You should send a 'preparation mail' to all participants a few days before the course starts. You should add the below information in your mail:

```
------- add this info
- Please follow these instructions to download a VM and prep for the course:
  https://github.wdf.sap.corp/slvi/docker-k8s-training/blob/master/preparation.md
- You will get a config code in the course that will let you download your personal config file under this directory:
  \\dwdf212\bst_ecf\X_Public\CloudCurriculum\K8S\k8s-for-developers\kube-configs

---------- end -----------
```


## During the Course




## After the course

- Destroy the Gardener trial cluster you used for the training
- Delete the kube config files you stored for your training at `\\dwdf212\bst_ecf\X_Public\CloudCurriculum\K8S\k8s-for-developers\kube-configs`



